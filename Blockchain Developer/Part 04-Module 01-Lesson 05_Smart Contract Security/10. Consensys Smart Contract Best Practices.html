<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Consensys: Smart Contract Best Practices</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Smart Contract Security</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Lesson Intro.html">01. Lesson Intro</a>
    </li>
    <li class="">
      <a href="02. The DAO Attack.html">02. The DAO Attack</a>
    </li>
    <li class="">
      <a href="03. Identify the Vulnerability.html">03. Identify the Vulnerability</a>
    </li>
    <li class="">
      <a href="04. Hack the Contract.html">04. Hack the Contract</a>
    </li>
    <li class="">
      <a href="05. Prevent the Hack.html">05. Prevent the Hack</a>
    </li>
    <li class="">
      <a href="06. Final Code.html">06. Final Code</a>
    </li>
    <li class="">
      <a href="07. The Parity Attack.html">07. The Parity Attack</a>
    </li>
    <li class="">
      <a href="08. The Parity Attack Solution.html">08. The Parity Attack Solution</a>
    </li>
    <li class="">
      <a href="09. Solidity Security Considerations.html">09. Solidity Security Considerations</a>
    </li>
    <li class="">
      <a href="10. Consensys Smart Contract Best Practices.html">10. Consensys: Smart Contract Best Practices</a>
    </li>
    <li class="">
      <a href="11. Whitepapers and Research.html">11. Whitepapers and Research</a>
    </li>
    <li class="">
      <a href="12. Tooling.html">12. Tooling</a>
    </li>
    <li class="">
      <a href="13. Open Zeppelin.html">13. Open Zeppelin</a>
    </li>
    <li class="">
      <a href="14. Security Audits.html">14. Security Audits</a>
    </li>
    <li class="">
      <a href="15. When Helping Goes Wrong.html">15. When Helping Goes Wrong</a>
    </li>
    <li class="">
      <a href="16. Lesson Recap.html">16. Lesson Recap</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">10. Consensys: Smart Contract Best Practices</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-smart-contract-best-practices"># Smart Contract Best Practices</h2>
<p>The Solidity documentation provides resources to help get you started, but there are many more resources you can use for reference. In blockchain security it's important to understand many of the most current resources available. In this section we'll go over another great resource created by Consensys you can reference.</p>
<p>Consensys, an incubator for blockchain startups, has curated a list of <a href="https://consensys.github.io/smart-contract-best-practices/" rel="noopener noreferrer" target="_blank">Ethereum Smart Contract Security Best Practices</a>. For more information about this resource, check out the video below.</p>
<h1 id="objectives">Objectives</h1>
<hr />
<p><em>Our goal is to help you do the following things.</em></p>
<ul>
<li>introduce you to Consensys </li>
</ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Consensys Smart Contract Best Practices</p></h3>
  <video controls>
  <source src="10. Consensys Smart Contract Best Practices-yEHTqLVWgIg.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="10. Consensys Smart Contract Best Practices-yEHTqLVWgIg.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="resources">Resources</h2>
<hr />
<p><a href="https://new.consensys.net/" rel="noopener noreferrer" target="_blank">Consensys Home Page</a></p>
<p><a href="https://consensys.github.io/smart-contract-best-practices/" rel="noopener noreferrer" target="_blank">Ethereum Smart Contract Best Practices</a></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="quiz-exploit-the-contract">Quiz: Exploit the Contract</h2>
<hr />
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>Reference this code to answer the quiz below it.</p>
<pre><code>// INSECURE
contract Auction {
    address currentLeader;
    uint highestBid;

    function bid() payable {
        require(msg.value &gt; highestBid);

        require(currentLeader.send(highestBid)); // Refund the old leader, if it fails then revert

        currentLeader = msg.sender;
        highestBid = msg.value;
    }
}</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>How could a hacker exploit the code shown above?</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1544215884204" name="791442" id="a1544215884204">
        <label for="a1544215884204"><p>Change the value of highest bid to make themselves the highest bidder.</p></label>
      </div>
      <div>
        <input type="radio" value="a1544215893026" name="791442" id="a1544215893026">
        <label for="a1544215893026"><p>Update the address of the currentLeader to be the address of their wallet.</p></label>
      </div>
      <div>
        <input type="radio" value="a1544215898437" name="791442" id="a1544215898437">
        <label for="a1544215898437"><p>Prevent other users from calling the bid() function, allowing them to stay the leader forever.</p></label>
      </div>
      <div>
        <input type="radio" value="a1544215904894" name="791442" id="a1544215904894">
        <label for="a1544215904894"><p>None of these options would exploit the contracts weakness.</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    Prevent other users from calling the bid() function, allowing them to stay the leader forever.
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <blockquote>
  <p>Tip: You can read through the resource provided at <a href="https://consensys.github.io/smart-contract-best-practices/known_attacks/#dos-with-unexpected-revert" rel="noopener noreferrer" target="_blank">DOS with (Unexpected) revert</a> for more information. </p>
</blockquote>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="quiz-consensys-general-philosophy">Quiz: Consensys General Philosophy</h2>
<hr />
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Which of the following are tips from Consensys about the <strong>general philosophy</strong> of creating secure smart contracts?</p></legend>
    </fieldset>

    <div>
      <input type="checkbox" value="a1544215968336" name="791446" id="a1544215968336">
      <label for="a1544215968336"><p>Prepare for failure</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1544215975512" name="791446" id="a1544215975512">
      <label for="a1544215975512"><p>Rollout carefully</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1544215986929" name="791446" id="a1544215986929">
      <label for="a1544215986929"><p>Keep contracts simple</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1544215994853" name="791446" id="a1544215994853">
      <label for="a1544215994853"><p>Stay up to date</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1544216000618" name="791446" id="a1544216000618">
      <label for="a1544216000618"><p>Be aware of blockchain properties</p></label>
    </div>
    <div>
      <input type="checkbox" value="a1544216006862" name="791446" id="a1544216006862">
      <label for="a1544216006862"><p>Disregard security best practices and hope for the best</p></label>
    </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    <ul>
      <li>Prepare for failure</li>
      <li>Rollout carefully</li>
      <li>Keep contracts simple</li>
      <li>Stay up to date</li>
      <li>Be aware of blockchain properties</li>
  </ul>
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <blockquote>
  <p>Tip: View the <a href="https://consensys.github.io/smart-contract-best-practices/general_philosophy/" rel="noopener noreferrer" target="_blank">General Philosophy</a> page for more information.</p>
</blockquote>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Skill Tracker</p></h3>
  <div>
  <div>
    <h4>Task Description:</h4>
    <p>Track the objectives you feel you've gained the skills to complete.</p>
  </div>

  <form>
    <fieldset>
      <legend>Task List:</legend>

      <div>
        <input type="checkbox" id="fdca49c6-ddaa-4679-9717-f45c72bf09fb--0">
        <label for="fdca49c6-ddaa-4679-9717-f45c72bf09fb--0"><p>Learned about Consensys</p></label>
      </div>
    </fieldset>
  </form>

  <div>
    <h4>Task Feedback:</h4>


    <p>Congratulations on gaining new skills!</p>
  </div>
</div>


</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="11. Whitepapers and Research.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('10. Consensys: Smart Contract Best Practices')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
