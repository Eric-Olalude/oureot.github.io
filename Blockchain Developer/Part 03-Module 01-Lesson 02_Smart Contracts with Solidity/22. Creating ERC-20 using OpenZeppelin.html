<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Creating ERC-20 using OpenZeppelin</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Smart Contracts with Solidity</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Let&#x27;s Write Smart Contracts.html">01. Let&#x27;s Write Smart Contracts</a>
    </li>
    <li class="">
      <a href="02. Smart Contracts and Solidity Introduction.html">02. Smart Contracts and Solidity Introduction</a>
    </li>
    <li class="">
      <a href="03. Remix Online Tool.html">03. Remix Online Tool</a>
    </li>
    <li class="">
      <a href="04. Memory Management in Solidity.html">04. Memory Management in Solidity</a>
    </li>
    <li class="">
      <a href="05. Elementary Data Types in Solidity.html">05. Elementary Data Types in Solidity</a>
    </li>
    <li class="">
      <a href="06. Type Conversion in Solidity.html">06. Type Conversion in Solidity</a>
    </li>
    <li class="">
      <a href="07. Complex Data Types.html">07. Complex Data Types</a>
    </li>
    <li class="">
      <a href="08. Arrays.html">08. Arrays</a>
    </li>
    <li class="">
      <a href="09. String and Bytes Types.html">09. String and Bytes Types</a>
    </li>
    <li class="">
      <a href="10. Mappings.html">10. Mappings</a>
    </li>
    <li class="">
      <a href="11. Enums.html">11. Enums</a>
    </li>
    <li class="">
      <a href="12. Structs.html">12. Structs</a>
    </li>
    <li class="">
      <a href="13. Solidity Global Variables and Ether Units.html">13. Solidity Global Variables and Ether Units</a>
    </li>
    <li class="">
      <a href="14. Functions in Solidity.html">14. Functions in Solidity</a>
    </li>
    <li class="">
      <a href="15. Error Handling in Solidity.html">15. Error Handling in Solidity</a>
    </li>
    <li class="">
      <a href="16. Inheritance in Solidity.html">16. Inheritance in Solidity</a>
    </li>
    <li class="">
      <a href="17. Events in Solidity.html">17. Events in Solidity</a>
    </li>
    <li class="">
      <a href="18. What are Tokens.html">18. What are Tokens?</a>
    </li>
    <li class="">
      <a href="19. ERC Token Standards.html">19. ERC Token Standards</a>
    </li>
    <li class="">
      <a href="20. ERC-20 Walk-through.html">20. ERC-20 Walk-through</a>
    </li>
    <li class="">
      <a href="21. Creating ERC-20 using Remix.html">21. Creating ERC-20 using Remix</a>
    </li>
    <li class="">
      <a href="22. Creating ERC-20 using OpenZeppelin.html">22. Creating ERC-20 using OpenZeppelin</a>
    </li>
    <li class="">
      <a href="23. Mini Project Send your ERC-20 Tokens to Udacity.html">23. Mini Project: Send your ERC-20 Tokens to Udacity</a>
    </li>
    <li class="">
      <a href="24. Congratulations on Learning Solidity.html">24. Congratulations on Learning Solidity</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">22. Creating ERC-20 using OpenZeppelin</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-creating-erc-20-using-openzeppelin"># Creating ERC-20 Using OpenZeppelin</h2>
<p><em>In this concept, you'll get to create and send your very own tokens from start to finish!</em></p>
<p>Previously, we walked you through creating your own token from scratch. We will now show you how you can use <a href="https://openzeppelin.org/" rel="noopener noreferrer" target="_blank">OpenZeppelin</a>, a library of Ethereum smart contracts, to create tokens even more easily using the <a href="https://github.com/OpenZeppelin/openzeppelin-solidity/blob/master/contracts/token/ERC20/ERC20.sol" rel="noopener noreferrer" target="_blank">OpenZeppelin's ERC-20 contract</a>. </p>
<p>Here's what we will do in this concept:</p>
<ol>
<li>Create an ERC-20 token using OpenZeppelin</li>
<li>Use Truffle to compile and deploy the token contract to a locally running ethereum network</li>
<li>Use Infura and Truffle to deploy the token contract to the Rinkeby Public Test Network</li>
<li>Once our contract is deployed on Rinkeby, find our deployed token on Etherscan</li>
<li>Then, we will use Metamask to import this token</li>
<li>Finally, we will send the token to any ethereum address using Metamask!</li>
</ol>
<p>The complete exercise can be download from the <a href="https://github.com/udacity/nd1309-work-code/tree/master/Course_Identity_And_Smart_Contracts/SampleToken" rel="noopener noreferrer" target="_blank">ND Program Github Repository</a> remember you will need to have the latest version of Truffle (v5) installed.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-creating-erc-20-token-using-openzeppelin">## Creating ERC-20 Token Using OpenZeppelin</h2>
<p>Let's start by creating an ERC-20 token using OpenZeppelin. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>C4L3 Concept 22 ERC20 Using OpenZeppelin Part 1 V3</p></h3>
  <video controls>
  <source src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 1 V3-5bdXpgL93-o.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 1 V3-5bdXpgL93-o.en.vtt" label="en">
</video>


  <div class="jumbotron" style="margin-top: 50px; margin-bottom: 50px;">
    <h3>INSTRUCTOR NOTE:</h3>
    <p><strong>Note</strong>: This video was recorded using a version that it is outdated, the code below in the Instructor Code section has an updated version of the code.</p>
  </div>
</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-instructor-code">## Instructor Code</h2>
<p>Get started with the exercise, remember you will need to have installed the latest version of Truffle (v5)</p>
<p>1) Verify you have the Truffle (v5.0.2) latest installed if not use the command <code>npm install -g truffle</code></p>
<p>2) Use <code>mkdir SampleToken</code> to create a directory</p>
<p>3) <code>cd SampleToken</code></p>
<p>4) Run the command: <code>truffle init</code> to initialize a truffle project.</p>
<p>5) Run <code>npm install --save truffle-hdwallet-provider</code> used to set up the provider to connect to the Infura Node</p>
<p>6) Run <code>npm install openzeppelin-solidity</code></p>
<p>7) Go into your <strong>contracts</strong> folder, and create your token smart contract file <strong>SampleToken.sol</strong></p>
<h4 id="code-for-sampletokensol">Code for SampleToken.sol</h4>
<pre><code>pragma solidity &gt;=0.4.24;

import "../node_modules/openzeppelin-solidity/contracts/token/ERC20/ERC20.sol";
import "../node_modules/openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol";

contract SampleToken is ERC20Detailed, ERC20 {

    constructor(string memory _name, string memory _symbol, uint8 _decimals, uint _initialSupply) 
    ERC20Detailed(_name, _symbol, _decimals) public {
        require(_initialSupply &gt; 0, "INITIAL_SUPPLY has to be greater than 0");
        _mint(msg.sender, _initialSupply);
    }
}</code></pre>
<p>If you see my code there are huge differences from the one explained in the video, check inside the <code>/node_modules/openzeppelin-solidity/contracts/token/ERC20/ERC20Detailed.sol</code> in your project for more information.</p>
<p>One important thing that it is worth to remark is that <code>_mint(msg.sender, _initialSupply);</code> internally assigned the initial supply values without having to do the trick the instructor is showing in the video and it will not work on the latest version of the tools and libraries you will use.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-setup-infura-and-metamask">## Setup Infura and Metamask</h2>
<p>In the previous video, we imported OpenZeppelin contract to help us write our token contract. Now, get ready to deploy our token contract Rinkeby Public Test Network by getting our Infura seed. Then we can setup Metamask so we can send the token to any ethereum address. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>C4L3 Concept 22 ERC20 Using OpenZeppelin Part 2 V3</p></h3>
  <video controls>
  <source src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 2 V3-2gl2Mp73mFc.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 2 V3-2gl2Mp73mFc.en.vtt" label="en">
</video>


  <div class="jumbotron" style="margin-top: 50px; margin-bottom: 50px;">
    <h3>INSTRUCTOR NOTE:</h3>
    <p><strong>Note</strong>: This video was recorded using a version that it is outdated, the code below in the Instructor Code section has an updated version of the code.</p>
  </div>
</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="steps-to-get-started-with-infura">Steps to Get Started with Infura</h2>
<ul>
<li><p>Go to <a href="https://infura.io" rel="noopener noreferrer" target="_blank">https://infura.io</a></p></li>
<li><p>Click on “Get Started for FREE”.</p></li>
<li><p>Once you sign up, you will be sent an email.</p></li>
<li><p>Confirm your email address.</p></li>
<li><p>Now go back to the Infura website, to get the API key</p></li>
<li><p>The easiest way is to click on “Learn How Infura Works” as seen below    </p></li>
<li><p>Click on “Skip” button that you see on the screen</p></li>
<li><p>Then click on “Create New Project” as seen below:</p></li>
<li><p>Give any name to your project…</p></li>
<li><p>Now, from the endpoint, copy the link for whichever network’s node you would want to connect to, for example, Rinkeby.</p></li>
</ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-instructor-code">## Instructor Code</h2>
<p>This is the code you need for the <strong>truffle-config.js</strong> file set up:</p>
<pre><code>const HDWalletProvider = require('truffle-hdwallet-provider');
const infuraKey = "&lt;Infura PROJECT ID&gt;";
//
// const fs = require('fs');
const mnemonic = "&lt;METAMASK SEED&gt;";

module.exports = {

  networks: {
    development: {
      host: "127.0.0.1",     // Localhost (default: none)
      port: 9545,            // Standard Ethereum port (default: none)
      network_id: "*",       // Any network (default: none)
     },
    // Useful for deploying to a public network.
    // NB: It's important to wrap the provider as a function.
    rinkeby: {
      provider: () =&gt; new HDWalletProvider(mnemonic, `https://rinkeby.infura.io/v3/${infuraKey}`),
        network_id: 4,       // rinkeby's id
        gas: 4500000,        // rinkeby has a lower block limit than mainnet
        gasPrice: 10000000000
    },
  },

  // Set default mocha options here, use special reporters etc.
  mocha: {
    // timeout: 100000
  },

  // Configure your compilers
  compilers: {
    solc: {
      // version: "0.5.1",    // Fetch exact version from solc-bin (default: truffle's version)
      // docker: true,        // Use "0.5.1" you've installed locally with docker (default: false)
      // settings: {          // See the solidity docs for advice about optimization and evmVersion
      //  optimizer: {
      //    enabled: false,
      //    runs: 200
      //  },
      //  evmVersion: "byzantium"
      // }
    }
  }
}</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-deploy-erc-20-token-contract-locally"># Deploy ERC-20 Token Contract Locally</h2>
<p>With our smart contract created and setup done, now's the fun part. Let's deploy!<br />
We will first use Truffle to compile and deploy the token contract to a locally running ethereum network. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>C4L3 Concept 22 ERC20 Using OpenZeppelin Part 3 V3</p></h3>
  <video controls>
  <source src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 3 V3-dYwuv9coVLw.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 3 V3-dYwuv9coVLw.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-instructor-code">## Instructor Code</h2>
<p>Configuring the migration file</p>
<p>To be able to deploy your token you will need to create a file in the <strong>migrations</strong> folder create a new file <strong>2_initial_migration.js</strong></p>
<p>And we are going to add this code:</p>
<pre><code>var SampleToken = artifacts.require("SampleToken");

module.exports = function(deployer) {
  deployer.deploy(SampleToken, "UdacityExampleToken", "UET", 18, 1000);
};</code></pre>
<p>In this code, we are deploying our contract passing the parameters we specified in the Contract constructor.</p>
<h3 id="steps-to-run-a-local-ethereum-network-and-deploy-your-token-contract-to-this-local-network">Steps to run a local ethereum network, and deploy your token contract to this local network</h3>
<pre><code>1) Open a Terminal window, and make sure you are inside your project directory

2) Run the command `truffle develop` (to run a local ethereum network)

3) Use the command `compile` (to compile your solidity contract files)

4) Use the command `migrate --reset` (to deploy your contract to the locally running ethereum network)</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/blockchain-line.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-deploy-token-contract-on-rinkeby">## Deploy Token Contract on Rinkeby</h2>
<h2 id="-get-tokens-from-public-faucet">#### Get Tokens from Public Faucet</h2>
<p>Before we can deploy our contract on Rinkeby, we need to make sure have enough ethers. To get our ethers in the test network, we will get some ether from a public faucet. We will walk-through how to deploy our contract on Rinkeby. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>C4L3 Concept 22 ERC20 Using OpenZeppelin Part 4 V3</p></h3>
  <video controls>
  <source src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 4 V3-xY6ag7a9xuQ.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 4 V3-xY6ag7a9xuQ.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h4 id="to-request-ethers">To request ethers,</h4>
<p><a href="https://faucet.rinkeby.io/" rel="noopener noreferrer" target="_blank">https://faucet.rinkeby.io/</a></p>
<h4 id="to-post-on-google-plus-to-get-ethers">To post on Google Plus to get ethers</h4>
<p><a href="https://plus.google.com/" rel="noopener noreferrer" target="_blank">https://plus.google.com/</a></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-deploy-contract-and-send-tokens">## Deploy Contract and Send Tokens</h2>
<p>Now that we have enough ethers our Rinkeby account, let's deploy our token contract to the Rinkeby network! Once deployed, we can use the contract to find our contract on Etherscan. Finally, we will wrap it up by using Metamask to transfer the tokens we created between Ethereum accounts!</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>C4L3 Concept 22 ERC20 Using OpenZeppelin Part 5 V2</p></h3>
  <video controls>
  <source src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 5 V2-sdk_OOLdgNI.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="22. C4L3 Concept 22 ERC20 Using OpenZeppelin Part 5 V2-sdk_OOLdgNI.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="-instructor-code">## Instructor Code</h2>
<p>Command to deploy to Rinkeby using truffle</p>
<p><code>truffle migrate --reset --network rinkeby</code></p>
<p>If you are using the latest version of Truffle and Metamask once you deploy your contract to Rinkeby network it will appear automatically in the account it uses to deploy the Contract.</p>
<p>The complete exercise can be download from the <a href="https://github.com/udacity/nd1309-work-code/tree/master/Course_Identity_And_Smart_Contracts/SampleToken" rel="noopener noreferrer" target="_blank">ND Program Github Repository</a> remember you will need to have the latest version of Truffle (v5) installed.</p>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="23. Mini Project Send your ERC-20 Tokens to Udacity.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('22. Creating ERC-20 using OpenZeppelin')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
