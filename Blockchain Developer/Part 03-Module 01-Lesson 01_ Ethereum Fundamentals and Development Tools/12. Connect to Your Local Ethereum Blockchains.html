<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Connect to Your Local Ethereum Blockchains</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3> Ethereum Fundamentals and Development Tools</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Lesson Introduction.html">01. Lesson Introduction</a>
    </li>
    <li class="">
      <a href="02. Ethereum Basics.html">02. Ethereum Basics</a>
    </li>
    <li class="">
      <a href="03. What makes Ethereum Special.html">03. What makes Ethereum Special?</a>
    </li>
    <li class="">
      <a href="04. Ethereum Tools and Community.html">04. Ethereum Tools and Community</a>
    </li>
    <li class="">
      <a href="05. Introduction to DApps.html">05. Introduction to DApps</a>
    </li>
    <li class="">
      <a href="06. Scan the Ethereum Network.html">06. Scan the Ethereum Network</a>
    </li>
    <li class="">
      <a href="07. Deploy to the Test Network.html">07. Deploy to the Test Network</a>
    </li>
    <li class="">
      <a href="08. Prepare to Connect to the Network.html">08. Prepare to Connect to the Network</a>
    </li>
    <li class="">
      <a href="09. Connect to the Ethereum Network.html">09. Connect to the Ethereum Network</a>
    </li>
    <li class="">
      <a href="10. Investigate Ethereum Accounts.html">10. Investigate Ethereum Accounts</a>
    </li>
    <li class="">
      <a href="11. Create a Local Blockchain.html">11. Create a Local Blockchain</a>
    </li>
    <li class="">
      <a href="12. Connect to Your Local Ethereum Blockchains.html">12. Connect to Your Local Ethereum Blockchains</a>
    </li>
    <li class="">
      <a href="13. Create Ethereum Transactions .html">13. Create Ethereum Transactions </a>
    </li>
    <li class="">
      <a href="14. Ethereum Gas and Fees.html">14. Ethereum Gas and Fees</a>
    </li>
    <li class="">
      <a href="15. Explore Ethereum Metrics.html">15. Explore Ethereum Metrics</a>
    </li>
    <li class="">
      <a href="16. First Dapp Revisited.html">16. First Dapp Revisited</a>
    </li>
    <li class="">
      <a href="17. Ethereum Secret Messenger.html">17. Ethereum Secret Messenger</a>
    </li>
    <li class="">
      <a href="18. Improved Deployment Process.html">18. Improved Deployment Process</a>
    </li>
    <li class="">
      <a href="19. DApps Next Steps.html">19. DApps Next Steps</a>
    </li>
    <li class="">
      <a href="20. Optional Full Ethereum Nodes.html">20. Optional: Full Ethereum Nodes</a>
    </li>
    <li class="">
      <a href="21. Lesson Recap.html">21. Lesson Recap</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">12. Connect to Your Local Ethereum Blockchains</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="connect-to-your-local-ethereum-blockchain">Connect to Your Local Ethereum Blockchain</h1>
<hr />
<p>Having created a local blockchain, you can now connect to it using web3. This is similar to what you've done before and only includes one small change. </p>
<p>I'll also show you one more trick you can use to bring everything from your terminal into your IDE or code editor. Using your IDE  or code editor rather than your terminal brings you one step closer to using this data in your own Ethereum based applications.</p>
<h1 id="objectives">Objectives</h1>
<hr />
<p><em>Our goal is to help you do the following things.</em></p>
<ol>
<li>Connect web3 to your ganache local blockchain and run basic commands.</li>
<li>List account information from ganache using web3.</li>
<li>Make calls from web3 using your IDE rather than your terminal.</li>
</ol>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/block-line-fill-small.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="1-connect-ganache-to-web3">1. Connect Ganache to Web3</h2>
<hr />
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>To get started, we'll connect your local ganache blockchain to web3.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>12.1-Connect-Web3-To-Ganache</p></h3>
  <video controls>
  <source src="12. 12.1-Connect-Web3-To-Ganache-KY8c_hbnnr4.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="12. 12.1-Connect-Web3-To-Ganache-KY8c_hbnnr4.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <blockquote>
  <p><strong>Note:</strong> The details of this video are also described in the text below.</p>
</blockquote>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <div>
    <h4>Task Description:</h4>
    <p>Complete each of the steps as described above to connect web3 to ganache.</p>
  </div>

  <form>
    <fieldset>
      <legend>Task List:</legend>

      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--0">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--0"><p><strong>Step 1:</strong> Start Ganache</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--1">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--1"><p><strong>Step 2:</strong> Connect Web3 to Ganache</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--2">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--2"><p><strong>Step 3:</strong> Create and change into a directory</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--3">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--3"><p><strong>Step 4:</strong> Initialize an instance of npm</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--4">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--4"><p><strong>Step 5:</strong> Start node in your terminal</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--5">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--5"><p><strong>Step 6:</strong> Require and run web3 in node</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--6">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--6"><p><strong>Step 7:</strong> Set the web3 variable to an instance of Web3 on your URL</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--7">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--7"><p><strong>Step 8:</strong> Call this we3 variable to read information to your terminal</p></label>
      </div>
      <div>
        <input type="checkbox" id="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--8">
        <label for="42e8819c-d3db-42c5-b56b-4e3a93bd5fc8--8"><p><strong>Step 9:</strong> Test the connection by reading the list of accounts</p></label>
      </div>
    </fieldset>
  </form>

  <div>
    <h4>Task Feedback:</h4>


    <p>Great work! Web3 is now connected to your local blockchain!</p>
  </div>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h4 id="step-1-run-ganache"><strong>Step 1:</strong> Run Ganache</h4>
<hr />
<p>Before trying to connect to ganache, it's important to remember that you are even running it. Determine which you prefer, the ganache-cli, or ganche-gui, and run that before trying to connect to it. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h4 id="step-2-connect-web3-to-ganache"><strong>Step 2:</strong> Connect Web3 to Ganache</h4>
<hr />
<p>Connecting ganache to web3 is simple. All we need to do is set a different <code>url</code> variable as our endpoint.</p>
<p>For convenience, I've place all of the commands below to get started. Note that there is only 1 difference between this and what we have done already. Rather than setting the variable <code>url</code> to our infura endpoint, we change it to the url of our ganache network. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h4 id="step-3-create-and-change-into-a-directory"><strong>Step 3:</strong> Create and change into a directory</h4>
<hr />
<pre><code>mkdir projectFolder -- &lt;----don't name this folder web3
cd projectFolder</code></pre>
<h4 id="step-4-initialize-an-instance-of-npm"><strong>Step 4:</strong> Initialize an instance of npm</h4>
<hr />
<pre><code>npm init -y
npm install web3 --save</code></pre>
<h4 id="step-5-start-node-in-terminal"><strong>Step 5:</strong> Start node in terminal</h4>
<hr />
<pre><code>node</code></pre>
<h4 id="step-6-require-web3-into-node"><strong>Step 6:</strong> Require web3 into node</h4>
<hr />
<pre><code>var Web3 = require('web3')</code></pre>
<h4 id="step-7-set-the-web3-variable-to-an-instance-of-web3-on-your-url"><strong>Step 7:</strong> Set the web3 variable to an instance of Web3 on your URL</h4>
<hr />
<pre><code>var web3 = new Web3('HTTP://127.0.0.1:7545') -- // 8545 if you are using ganache-cli</code></pre>
<h5 id="step-8-call-this-web3-variable-to-read-information-to-your-terminal"><strong>Step 8:</strong> Call this web3 variable to read information to your terminal</h5>
<hr />
<pre><code>web3</code></pre>
<h4 id="step-9-test-the-connection-by-reading-the-list-of-accounts"><strong>Step 9:</strong> Test the connection by reading the list of accounts</h4>
<hr />
<pre><code>web3.eth.getAccounts().then(accounts =&gt; console.log(accounts));</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>If everything worked out, you now have a connection from your local ganache blockchain to web3. You can run all of the same commands you learned previously to inspect different accounts, balances, and more. Feel free to experiment, we'll be doing that shortly as well, but before wrapping up I'll show you how to bring this functionality into your development environment.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/block-line-fill-small.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="2-connect-web3-to-ganache-from-an-ide">2. Connect Web3 to Ganache from an IDE</h2>
<hr />
<p>Now that you've connected to ganache from your terminal, you can bring this functionality into your code editor or IDE. To do this is pretty similar to what you've done already. In the next section I'll show you how to do this.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>12.2-Connect-Web3-To-Ganache-From-An-Ide</p></h3>
  <video controls>
  <source src="12. 12.2-Connect-Web3-To-Ganache-From-An-Ide-E3Cry2Wk20Y.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="12. 12.2-Connect-Web3-To-Ganache-From-An-Ide-E3Cry2Wk20Y.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <div>
    <h4>Task Description:</h4>
    <p>Connect your local blockchain to your IDE by completing the steps shown below.</p>
  </div>

  <form>
    <fieldset>
      <legend>Task List:</legend>

      <div>
        <input type="checkbox" id="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--0">
        <label for="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--0"><p><strong>Step 1:</strong> Create and open an app.js file in whichever directory you'd like.</p></label>
      </div>
      <div>
        <input type="checkbox" id="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--1">
        <label for="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--1"><p><strong>Step 2:</strong> initialize npm and save web3 as a dependency.</p></label>
      </div>
      <div>
        <input type="checkbox" id="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--2">
        <label for="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--2"><p><strong>Step 3:</strong> Paste the following code into your index.js file.</p></label>
      </div>
      <div>
        <input type="checkbox" id="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--3">
        <label for="27e7393d-8978-4f66-b9ec-4fe40cd34d2b--3"><p><strong>Step 4:</strong> Run app.js from your terminal to execute the code</p></label>
      </div>
    </fieldset>
  </form>

  <div>
    <h4>Task Feedback:</h4>


    <p>Great job! You can now work with web3 directly from the files in your code editor or IDE.</p>
  </div>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>For this example, I'll be using visual studio code with the integrated terminal they provide. Feel free to use whatever environment you prefer.</p>
<h4 id="step-1-create-and-open-an-appjs-file-in-whichever-directory-youd-like"><strong>Step 1:</strong> Create and open an app.js file in whichever directory you'd like.</h4>
<hr />
<pre><code>mkdir projectFolder
cd projectFolder</code></pre>
<h4 id="step-2-initialize-npm-and-save-web3-as-a-dependency"><strong>Step 2:</strong> initialize npm and save web3 as a dependency.</h4>
<hr />
<pre><code>npm init
npm install web3 --save</code></pre>
<h4 id="step-3-paste-the-following-code-into-your-indexjs-file"><strong>Step 3:</strong> Paste the following code into your <code>index.js</code> file.</h4>
<hr />
<pre><code>var Web3 = require('web3')

var url = 'HTTP://127.0.0.1:7545' // 8545 if using ganache-cli

var web3 = new Web3(url)

web3.eth.getAccounts().then(accounts =&gt; console.log(accounts));</code></pre>
<h4 id="step-4-run-appjs-from-your-terminal-to-execute-the-code"><strong>Step 4:</strong> Run app.js from your terminal to execute the code</h4>
<hr />
<hr />
<p>Once completed, you've successfully called ganache using web3 from your development environment. Your environment should look similar to the one shown below.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2018-11-04-at-10.40.26-pm.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <p>For more commands, try searching the <a href="https://web3js.readthedocs.io/en/1.0/index.html" rel="noopener noreferrer" target="_blank">web3 documentation</a></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <div>
    <h4>Task Description:</h4>
    <p>Remember earlier in the lesson when you researched the different commands that exist on web3? Try executing some of those commands now on the accounts that you have access to.</p>
  </div>

  <form>
    <fieldset>
      <legend>Task List:</legend>

      <div>
        <input type="checkbox" id="a33eba88-a1d8-4fd7-aca1-cfb6fb57dd6d--0">
        <label for="a33eba88-a1d8-4fd7-aca1-cfb6fb57dd6d--0"><p>I have successfully researched and executed a web3 command on my local blockchain.</p></label>
      </div>
    </fieldset>
  </form>

  <div>
    <h4>Task Feedback:</h4>


    <p>Amazing work! The pieces are really coming together now :)</p>
  </div>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/block-line-fill-small.png" alt="" class="img img-fluid">
    <figcaption class="figure-caption">
      
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="review">Review</h1>
<hr />
<p>Here we went over how to connect web3 to your newly create ganache local blockchain. You also brought this functionality into your development environment. This brings you even closer to getting this type of data into your applications. Having completed this concept, you should now be able to do the following.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Skill Tracker</p></h3>
  <div>
  <div>
    <h4>Task Description:</h4>
    <p>Track the objectives you've feel you've gained the skills to complete.</p>
  </div>

  <form>
    <fieldset>
      <legend>Task List:</legend>

      <div>
        <input type="checkbox" id="2d26a943-7c87-4eee-8a01-c9ff73d34a80--0">
        <label for="2d26a943-7c87-4eee-8a01-c9ff73d34a80--0"><ol>
<li>Connect web3 to your ganache local blockchain.</li>
</ol></label>
      </div>
      <div>
        <input type="checkbox" id="2d26a943-7c87-4eee-8a01-c9ff73d34a80--1">
        <label for="2d26a943-7c87-4eee-8a01-c9ff73d34a80--1"><ol start="2">
<li>List account information from ganache using web3.</li>
</ol></label>
      </div>
      <div>
        <input type="checkbox" id="2d26a943-7c87-4eee-8a01-c9ff73d34a80--2">
        <label for="2d26a943-7c87-4eee-8a01-c9ff73d34a80--2"><ol start="3">
<li>Make calls from web3 using your IDE.</li>
</ol></label>
      </div>
    </fieldset>
  </form>

  <div>
    <h4>Task Feedback:</h4>


    <p>Congratulations on gaining new skills!</p>
  </div>
</div>


</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="13. Create Ethereum Transactions .html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('12. Connect to Your Local Ethereum Blockchains')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
