WEBVTT
Kind: captions
Language: en

00:00:00.000 --> 00:00:02.370
So, now that we have our front end written,

00:00:02.370 --> 00:00:04.200
we have the index.html file,

00:00:04.200 --> 00:00:06.630
we have the index.js file, everything's all set up,

00:00:06.629 --> 00:00:08.910
the original contract, we've tested our contract,

00:00:08.910 --> 00:00:10.830
let's go see how the front-end looks like.

00:00:10.830 --> 00:00:12.060
This should be pretty simple one,

00:00:12.060 --> 00:00:13.169
but let's see what it looks like,

00:00:13.169 --> 00:00:14.939
and that's what makes a complete tab.

00:00:14.939 --> 00:00:17.620
So now, the first thing we want to make sure the you are,

00:00:17.620 --> 00:00:19.320
since we're running against a private network,

00:00:19.320 --> 00:00:21.600
we are not deploying a 20 public network yet,

00:00:21.600 --> 00:00:23.190
we're just going to truffle develop console.

00:00:23.190 --> 00:00:24.330
So, you want to make sure that you're inside

00:00:24.329 --> 00:00:26.924
the directory and the develop-console is running.

00:00:26.925 --> 00:00:30.269
You also want to make sure that you've compiled the contract, let's just do it again.

00:00:30.269 --> 00:00:32.174
All you have to do is compile command.

00:00:32.174 --> 00:00:33.599
Once you do that, you also have to

00:00:33.600 --> 00:00:36.030
migrate so it makes sure that you only compiled it yet.

00:00:36.030 --> 00:00:37.265
You want to migrate it.

00:00:37.265 --> 00:00:39.259
We're not testing, testing does it on its own,

00:00:39.259 --> 00:00:41.599
but if you want to migrate to the local network,

00:00:41.600 --> 00:00:46.130
and that's when it's going to be available inside our index.html and index.js files.

00:00:46.130 --> 00:00:49.385
So, let's go migrate this contract on our local network.

00:00:49.384 --> 00:00:51.420
I like to use a hyphen, hyphen reset flag,

00:00:51.420 --> 00:00:53.090
it just make sure that we have

00:00:53.090 --> 00:00:56.120
a clean copy and then sometimes just gives errors without that.

00:00:56.119 --> 00:00:58.339
So migrate it to the local network, fantastic.

00:00:58.340 --> 00:01:00.875
So, it's local networks so that just as it pretty fast.

00:01:00.875 --> 00:01:03.575
If we were doing it to a public network,

00:01:03.575 --> 00:01:06.019
public test network, or the public main network,

00:01:06.019 --> 00:01:08.719
this probably takes maybe around a minute or so just because this is

00:01:08.719 --> 00:01:11.609
local private networks if you did a pretty fast.

00:01:11.609 --> 00:01:13.549
It also gives a contract address bags,

00:01:13.549 --> 00:01:14.674
so this is the address.

00:01:14.674 --> 00:01:16.429
Now, I just want to let you know if you're deploying to

00:01:16.430 --> 00:01:18.325
public address or a public network,

00:01:18.325 --> 00:01:22.329
this address is something that you can actually go and check out in find it on Etherscan,

00:01:22.329 --> 00:01:24.530
but again just a public-private network for now,

00:01:24.530 --> 00:01:26.750
so you also get an address back.

00:01:26.750 --> 00:01:28.129
So, once we have everything set up,

00:01:28.129 --> 00:01:29.884
I'm going to now run my front end.

00:01:29.885 --> 00:01:31.295
So, this is my back-end,

00:01:31.295 --> 00:01:34.609
my smart contract on my credit to my local network.

00:01:34.609 --> 00:01:37.310
Now, we need to run the front end the way it's done that,

00:01:37.310 --> 00:01:40.710
and let's go open up another Window there.

00:01:40.760 --> 00:01:43.380
Fantastic. We have another Window running,

00:01:43.379 --> 00:01:45.649
and again making sure in this writer directory.

00:01:45.650 --> 00:01:47.960
It automatically does that for you if you open a new tab,

00:01:47.959 --> 00:01:49.804
but you wanna make sure that you're in the right directory,

00:01:49.805 --> 00:01:51.080
and inside the directory,

00:01:51.079 --> 00:01:53.484
you're going to run the command npm run dev.

00:01:53.484 --> 00:01:57.209
You can always go look in the package JSON file where all these commands are coming from,

00:01:57.209 --> 00:01:58.789
but that's where it setup.

00:01:58.790 --> 00:02:00.260
It's running on npm run dev,

00:02:00.260 --> 00:02:01.775
that's a command that you're going to be using,

00:02:01.775 --> 00:02:04.190
and that runs your development console which is a front-end.

00:02:04.189 --> 00:02:07.789
Fantastic. Now, this is a server and that's what the web pack,

00:02:07.790 --> 00:02:11.480
the truffle box makes it really easy for you don't have to install servers separately.

00:02:11.479 --> 00:02:12.679
So now, if you see a project,

00:02:12.680 --> 00:02:14.000
it says it's running on this port.

00:02:14.000 --> 00:02:15.664
So, let's copy this address.

00:02:15.664 --> 00:02:18.719
Again we're going to open and browser, and go to this address.

00:02:18.719 --> 00:02:22.715
I have already this opened up. So, all we're doing is pasting it and let's go to that.

00:02:22.715 --> 00:02:23.990
You can always check these Windows,

00:02:23.990 --> 00:02:25.879
it tells you exactly what's going on.

00:02:25.879 --> 00:02:27.409
If there's any errors or something,

00:02:27.409 --> 00:02:29.060
it will pop up on these terminal windows.

00:02:29.060 --> 00:02:30.235
It says it's compiled ,

00:02:30.235 --> 00:02:32.135
so now let's go look at our front end.

00:02:32.134 --> 00:02:34.669
I also like to open the inspect so

00:02:34.669 --> 00:02:37.494
that we can see if there are any errors that come up at the same time.

00:02:37.495 --> 00:02:39.780
You want make sure that you met emasculated logged in,

00:02:39.780 --> 00:02:42.379
and you're also connected to your private network like I showed you in

00:02:42.379 --> 00:02:45.879
the initial tools required video in the beginning of this lesson.

00:02:45.879 --> 00:02:47.079
So, make sure it connected,

00:02:47.080 --> 00:02:50.020
you've imported address from your development console.

00:02:50.020 --> 00:02:56.510
So, one of these addresses using the private keys should have been imported,

00:02:56.509 --> 00:02:58.459
which we talked about in the initial video.

00:02:58.460 --> 00:02:59.870
That's it, and that's what it is.

00:02:59.870 --> 00:03:01.849
So, that's what the front end looks like, a very simple one.

00:03:01.849 --> 00:03:04.699
Remember, we have three buttons that be designed: Get Star Name,

00:03:04.699 --> 00:03:06.619
Get Star Owner, and Claim Star.

00:03:06.620 --> 00:03:10.310
Now, remember these are function calls and this is a transaction.

00:03:10.310 --> 00:03:11.810
You'll see something different that happens,

00:03:11.810 --> 00:03:12.920
when you do a transaction call,

00:03:12.919 --> 00:03:14.089
it just gives you immediately,

00:03:14.090 --> 00:03:18.689
when you run a transaction for the function call, information comes immediately.

00:03:18.689 --> 00:03:21.090
For a transaction, you'll see a screen will pop up from

00:03:21.090 --> 00:03:23.960
the MetaMask asking you to accept the transaction fees.

00:03:23.960 --> 00:03:26.645
So, let's go do that. So, I'm gonna get the star name.

00:03:26.645 --> 00:03:30.800
Fantastic. Remember this the starting that we had, Awesome Udacity Star.

00:03:30.800 --> 00:03:32.570
Then let's go get the owner.

00:03:32.569 --> 00:03:35.000
Remember, we did not set the owner yet.

00:03:35.000 --> 00:03:36.469
We do not set it in the constructor,

00:03:36.469 --> 00:03:38.120
so you should get it all zeros,

00:03:38.120 --> 00:03:40.789
fantastic, that's what we expected. We don't set it yet.

00:03:40.789 --> 00:03:44.719
Only when it claim a star from whatever address that's in your MetaMask,

00:03:44.719 --> 00:03:46.669
that's when it gets set to that address.

00:03:46.669 --> 00:03:48.109
So, let's see. If this is the address,

00:03:48.110 --> 00:03:49.580
see if this address 0d1.

00:03:49.580 --> 00:03:52.190
So, that's the address that I'm using from a truffle compile.

00:03:52.189 --> 00:03:54.129
Let's go on claim a star.

00:03:54.129 --> 00:03:56.775
Once you claim a star, that's a transaction.

00:03:56.775 --> 00:03:59.349
It comes with the MetaMask pops to the transaction saying,

00:03:59.349 --> 00:04:01.669
it's going to cost you because it's a transaction call.

00:04:01.669 --> 00:04:04.009
And it's going to say confirm it,

00:04:04.009 --> 00:04:05.679
I'm going go head confirm.

00:04:05.680 --> 00:04:07.460
Now, see on the top,

00:04:07.460 --> 00:04:09.575
you see a transaction confirmed thing pops up.

00:04:09.574 --> 00:04:11.734
It's says new Star owner is this.

00:04:11.735 --> 00:04:14.675
That's the message thing that we put up an HTML page.

00:04:14.675 --> 00:04:19.079
Now, if I say "Get Star Owner," it changes to this address, fantastic.

00:04:19.079 --> 00:04:22.574
If you always want to go try and pick a different address, you can always check that.

00:04:22.574 --> 00:04:25.310
Just a simple thing wanted to give you is that I've seen

00:04:25.310 --> 00:04:28.274
this and it just isn't error that's sometimes pops up.

00:04:28.274 --> 00:04:31.729
We didn't get it this time, but sometimes you might run a transaction MetaMask,

00:04:31.730 --> 00:04:33.950
it might give you like an error called Nonce error.

00:04:33.949 --> 00:04:37.384
The reason is that if you're running at local test blockchain that you have shut

00:04:37.384 --> 00:04:40.909
down and restarted from a blank state with MetaMask connected to it,

00:04:40.910 --> 00:04:43.265
sometimes what the MetaMask just gets confused.

00:04:43.264 --> 00:04:45.259
It caches information from the network,

00:04:45.259 --> 00:04:48.063
it's currently connected to including completed transactions,

00:04:48.064 --> 00:04:50.885
and drives a correct or an incorrect nonce.

00:04:50.884 --> 00:04:53.060
All you have to do is go to MetaMask,

00:04:53.060 --> 00:04:54.920
and Settings, and Reset Accounts.

00:04:54.920 --> 00:04:56.615
You're just going to go hit your MetaMask,

00:04:56.615 --> 00:04:58.639
and settings is right there,

00:04:58.639 --> 00:04:59.794
and just go to settings.

00:04:59.795 --> 00:05:01.495
In case you get a nonce error,

00:05:01.495 --> 00:05:04.560
just go right there, the error goes away.

00:05:04.560 --> 00:05:07.485
Fantastic. That's what a front end looks like.

00:05:07.485 --> 00:05:08.730
So, that's a complete dabs.

00:05:08.730 --> 00:05:12.569
So, what we did is we designed a smart contract, we tested it,

00:05:12.569 --> 00:05:15.740
we also made a front-page footed that looks like this,

00:05:15.740 --> 00:05:19.560
and we'd also running it and seeing that everything is working.

