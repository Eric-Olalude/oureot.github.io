<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Practice Block</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Blockchain Basics</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Lesson Introduction.html">01. Lesson Introduction</a>
    </li>
    <li class="">
      <a href="02. Interview Blockchain Fundamentals.html">02. Interview: Blockchain Fundamentals</a>
    </li>
    <li class="">
      <a href="03. Financial Transactions.html">03. Financial Transactions</a>
    </li>
    <li class="">
      <a href="04. Introduction to Bitcoin.html">04. Introduction to Bitcoin</a>
    </li>
    <li class="">
      <a href="05. Hashing.html">05. Hashing</a>
    </li>
    <li class="">
      <a href="06. Practice Hashing.html">06. Practice Hashing</a>
    </li>
    <li class="">
      <a href="07. Blocks.html">07. Blocks</a>
    </li>
    <li class="">
      <a href="08. Practice Block.html">08. Practice Block</a>
    </li>
    <li class="">
      <a href="09. Blockchain.html">09. Blockchain</a>
    </li>
    <li class="">
      <a href="10. Distributed Peer-to-Peer Network.html">10. Distributed Peer-to-Peer Network</a>
    </li>
    <li class="">
      <a href="11. Memory Pool.html">11. Memory Pool</a>
    </li>
    <li class="">
      <a href="12. Consensus.html">12. Consensus</a>
    </li>
    <li class="">
      <a href="13. Proof of Work.html">13. Proof of Work</a>
    </li>
    <li class="">
      <a href="14. Proof of Stake.html">14. Proof of Stake</a>
    </li>
    <li class="">
      <a href="15. Delegated Byzantine Fault Tolerance.html">15. Delegated Byzantine Fault Tolerance</a>
    </li>
    <li class="">
      <a href="16. Other Consensus Models.html">16. Other Consensus Models</a>
    </li>
    <li class="">
      <a href="17. Recap of Achieving Consensus.html">17. Recap of Achieving Consensus</a>
    </li>
    <li class="">
      <a href="18. Interview Blockchain Fundamentals.html">18. Interview: Blockchain Fundamentals</a>
    </li>
    <li class="">
      <a href="19. Lesson Recap.html">19. Lesson Recap</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">08. Practice Block</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h1 id="lets-do-some-coding-practice">Let's do some Coding Practice</h1>
<p>In the previous section, you learned about the basic data in a block and how it generates a hash. In this section, you will see how to get the hash using Javascript and Node.js.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="here’s-a-quick-look-at-the-steps-you’ll-complete">Here’s a quick look at the steps you’ll complete.</h2>
<blockquote>
  <table>
  <thead>
  <tr>
  <th id="**step_1**"><strong>Step 1</strong></th>
  <th id="implement_¨c0c_method_in_the_**block**_class">Implement <code>generateHash</code> method in the <strong>Block</strong> class</th>
  </tr>
  </thead>
  <tbody>
  <tr>
  <td><strong>Step 2</strong></td>
  <td>Use Promises to generate the hash asynchronously</td>
  </tr>
  <tr>
  <td><strong>Step 3</strong></td>
  <td>Run the application <code>node app.js</code></td>
  </tr>
  </tbody>
  </table>
</blockquote>
<p>Each step you’ll take to complete this exercise is called out in comments throughout the code. You can find more details and guidance about each of these steps in the text provided below the code. </p>
<p>Let’s get started!</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-1-implement-generatehash-method-in-the-block-class">Step 1. Implement <code>generateHash</code> method in the Block class</h2>
<p>In the <code>block.js</code> file, you will find the <code>Block</code> class. We have added <code>generateHash</code> method. This method should take the block object, generate the hash, and reassign to the <code>hash</code> property in the same block.</p>
<p>You might be wondering, why are we using <code>let self = this;</code>? You will have to use Promises when you implement the method. By using <code>let self = this;</code>, you can access the <code>this</code> object inside the Promise code.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-2-use-promises-to-generate-the-hash-asynchronously">Step 2. Use Promises to generate the hash asynchronously</h2>
<p>This is not a course of Promises, but we want to help you to get starter with this new concept or refresh your knowledge.</p>
<p><strong>Note</strong>: We introduce Promises here to help you evaluate your understanding of this feature because you will need to be able to use Promises in order to pass your project.</p>
<p>Promises allow you to run some code asynchronously. To create a promise, you'll need:</p>
<pre><code>var promise = new Promise(function(resolve, reject) {
  // do a thing, possibly async, then…

  if (/* everything turned out fine */) {
    resolve("Stuff worked!");
  }
  else {
    reject(Error("It broke"));
  }
});</code></pre>
<p>The Promise constructor takes one argument, a callback with two parameters - <code>resolve</code> and <code>reject</code>. This means: Do something within the callback (perhaps something asynchronous), then call <code>resolve</code> if everything worked; otherwise call <code>reject</code>.</p>
<p>And how you will read the result from the Promise?</p>
<pre><code>promise.then(function(result) {
  console.log(result); // "Stuff worked!"
}, function(err) {
  console.log(err); // Error: "It broke"
});</code></pre>
<h3 id="additional-resources">Additional Resources</h3>
<p>This is a very important skill that you will need for the rest of the program, so take your time in reviewing these resources:</p>
<ul>
<li><a href="https://developers.google.com/web/fundamentals/primers/promises" rel="noopener noreferrer" target="_blank">Google Developers Promises</a></li>
<li><a href="https://www.udacity.com/course/javascript-promises--ud898" rel="noopener noreferrer" target="_blank">Udacity Free Course Promises</a></li>
</ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="step-3-run-the-application-node-appjs">Step 3. Run the application node <code>app.js</code></h2>
<h3 id="appjs-file"><code>App.js</code> File</h3>
<pre><code>//Import the Block class
const BlockClass = require('./block.js');

// Creating a block object
const block = new BlockClass.Block("Test Block");

// Generating the block hash
block.generateHash().then((result) =&gt; {
    console.log(`Block Hash: ${result.hash}`);
    console.log(`Block: ${JSON.stringify(result)}`);
}).catch((error) =&gt; {console.log(error)});

#####################################################################
## Step 3: Run the application in node.js                          ##
##     -- See details for this step in the text below --           ##
#####################################################################

// From the terminal: `cd` into Project folder
// From the terminal: Run `node app.js` to run the code</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="workspace">Workspace</h2>
<p><strong>Note</strong>: If you want to work locally in your computer you can clone the boilerplate code from this <a href="https://github.com/udacity/nd1309_practice_block" rel="noopener noreferrer" target="_blank">Github Repository</a></p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div class="jumbotron">
  <h3>Code</h3>

  <p class="lead">If you need a code on the <a href="https://github.com/udacity"
    target="_blank">https://github.com/udacity</a>. </p>

  </ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="quizzes">Quizzes</h2>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Select the correct answer</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>Select the <code>hash</code> obtained</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1538067657657" name="728716" id="a1538067657657">
        <label for="a1538067657657"><p>2fad68ec976395e50513979ed65fa27b4a959741838b1714e4ef910afa56d6b1</p></label>
      </div>
      <div>
        <input type="radio" value="a1538067712214" name="728716" id="a1538067712214">
        <label for="a1538067712214"><p>83dd68ec976395e50513979e265fa27b4a959741838b1714e4ef910afa56d6b1</p></label>
      </div>
      <div>
        <input type="radio" value="a1538067731836" name="728716" id="a1538067731836">
        <label for="a1538067731836"><p>5Fad68ec976395e50513979ed65fa27b4a959741838b1714e4ef910afa56d6b1</p></label>
      </div>
      <div>
        <input type="radio" value="a1538067747364" name="728716" id="a1538067747364">
        <label for="a1538067747364"><p>Other Hash</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    2fad68ec976395e50513979ed65fa27b4a959741838b1714e4ef910afa56d6b1
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Block class changes</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>What happens when you change the values of the properties inside the <code>Block</code> class? And run again your application.</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="a1540819671244" name="770942" id="a1540819671244">
        <label for="a1540819671244"><p>The hashes doesn't change</p></label>
      </div>
      <div>
        <input type="radio" value="a1540819733398" name="770942" id="a1540819733398">
        <label for="a1540819733398"><p>The hashes change when I modify the variables.</p></label>
      </div>
      <div>
        <input type="radio" value="a1540819758725" name="770942" id="a1540819758725">
        <label for="a1540819758725"><p>The application doesn't work anymore.</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    The hashes change when I modify the variables.
  </details>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="09. Blockchain.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('08. Practice Block')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
